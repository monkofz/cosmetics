<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Cart | BobbiBrown.com</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="cart.css">


</head>

<body>
    <div class="wrapper">
        <div id="navbar">
            <div id="navbar1stcont">
                <div>
                    <pre>Email     Sign up</pre>
                </div>
                <img src="https://www.bobbibrowncosmetics.com/media/export/cms/logo.png" alt="">
                <div id="rightheader">
                    <h2>JOIN BRACCESS</h2>
                    <img src="https://www.bobbibrowncosmetics.com/sites/bobbibrown/themes/bb_base/img/icons/svg/Location-White.svg"
                        alt="">
                    <img src="https://www.bobbibrowncosmetics.com/sites/bobbibrown/themes/bb_base/img/icons/svg/MyAccount-White.svg"
                        alt="">
                    <img src="https://www.bobbibrowncosmetics.com/sites/bobbibrown/themes/bb_base/img/icons/svg/Bag-White.svg"
                        alt="">
    
                </div>
            </div>
    
            <div id="navbar2ndcont">
                <div id="search">
                    <!-- <i class="fa fa-search icon"></i> -->
                    <input type="text" placeholder="SEARCH">
                </div>
                <h4>NEW</h4>
                <h4>BESTSELLERS</h4>
                <h4>FACE</h4>
                <h4>MAKEUP</h4>
                <h4>SKINCARE</h4>
                <h4>VIRTUAL SERVICES</h4>
                <h4>DISCOVER</h4>
            </div>
    
        </div>
        <div id="container">
            <div class="box">
                <h2>SHOPPING BAG</h2>
                <div id="line"></div>
                <div id="freeshipping">
                    Enjoy Free Standard Shipping on any $65+ order.
                </div>
                <div id="aboveProducts">
    
                </div>
                <div id="products">
    
                </div>
    
                <pre id="total">
    
                </pre>
    
                <!--             IF THE CART IS EMPTY          -->
                <p id="red"></p>
    
                <div id="products">
    
                </div>
                <P id="para">If you have previously added items to your shopping cart, <a
                        href="https://www.bobbibrowncosmetics.com/account/email-sms-signup.tmpl">sign in</a> to see them.
                </P>
                <div>
                    <hr>
                </div>
    
                <button class="button"> <b>GO SHOPPING</b> </button>
            </div>
            <div class="box">
                <div id="freeshipping">
    
                </div>
                <h2>DONATE</h2>
                <hr </div>
                <div><img
                        src="https://www.bobbibrowncosmetics.com/media/export/cms/products/80x80/bb_prod_555877_80x80_0.jpg"
                        alt=""></div>
    
                <select>
    
                    <option value="">BCRF DONATION</option>
                    <option value="">SHE'S THE FIRST</option>
                </select>
                <p id="para2">Donate today to The Breast Cancer Research Foundation to support life-saving research. <a
                        href="#" class="promo"
                        aria-label="Donate today to The Breast Cancer Research Foundation to support life-saving research. Learn More about BCRF.">Learn
                        More</a> about BCRF.</p>
    
                <input type="radio" name="Donate">$1.00
                <input type="radio" name="Donate">$5.00
                <input type="radio" name="Donate">$10.00
    
                <div><button class="button" id="button2">ADD TO BAG</button></div>
    
            </div>
    
        </div>
        <div id="longline">
    
        </div>
    </div>
    <div class="push"></div>
    <div id="footer">
        <div id="footercontainer1">
            Â© Bobbi Brown Professional Cosmetics, Inc. All worldwide rights reserved.
        </div>
        <div id="footercontainer2">
            <pre>Terms & Conditions      Interest Based Ads</pre>
            <h5>
                California Do Not Sell My Personal Information
                Privacy Policy
            </h5>
            <h5>Accessibility</h5>
        </div>
        <div id="footercontainer3">
            <img src="https://www.bobbibrowncosmetics.com/media/export/cms/live_chat/icon-livechat_@2x.png" alt="">
            <img src="https://www.bobbibrowncosmetics.com/media/images/global/bobbi_access_icon.jpg" alt="">
        </div>
    </div>


</body>

</html>

<script>

    var cartItems = JSON.parse(localStorage.getItem("cart"));

    // console.log("caaaaaaaaaaart", cartItems);


    var bigBox = document.getElementById("products");

    var total = document.getElementById("total");

    var emptytag = document.getElementById("red");


    function pqpt() {
        var aboveProducts = document.getElementById("aboveProducts");
        var hh1 = document.createElement("h1");
        hh1.innerText = "Product"

        // var hh2 = document.createElement("h1");
        // hh2.innerText = "Quantity"

        var hh3 = document.createElement("h1");
        hh3.innerText = "Price"

        var hh4 = document.createElement("h1");
        hh4.innerText = "Total";

        aboveProducts.append(hh1, hh3, hh4);
    }

    pqpt();

    function displayData(cartItems) {
        cartItems.map(function (el) {
            var box = document.createElement("div");
            var box2 = document.createElement("div");

            box.setAttribute("id", "box");
            box2.setAttribute("id", "box2");

            var img = document.createElement("img");
            img.src = el.image_url;
            img.setAttribute("id", "prodimg")

            var name = document.createElement("p");
            var btn = document.createElement("button");
            name.textContent = el.name;
            btn.innerText = "REMOVE";
            btn.setAttribute("id", "btn");
            btn.addEventListener("click", function () {
                removeItem(el);
            });

            box2.append(img, name, btn);

            var pricebox = document.createElement("div")
            pricebox.setAttribute("id", "pricebox")

            var div1 = document.createElement("div")
            var price = document.createElement("h3");

            price.textContent = el.price;
            div1.append(price);

            var div2 = document.createElement("div")

            pricebox.append(div1, div2);

            box.append(box2, pricebox);
            bigBox.append(box);

        });
        // string.replace('characterToReplace', '');
        var totalprice = cartItems.reduce(function (sum, el) {
            el.price = el.price.replace("$", "");
            return sum + Number(el.price)
        }, 0);

        console.log("total", totalprice);

        if (cartItems.length == 0) {
            total.innerText = "Total Amount       $" + totalprice
        }

    }

    displayData(cartItems);


    function removeItem(el) {
        cartItems.splice(el, 1);
        localStorage.setItem("cart", JSON.stringify(cartItems));

        displayData(cartItems);


        window.location.reload();


    }

</script>